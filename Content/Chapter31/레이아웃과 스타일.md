31장 레이아웃과 스타일

o 레이아웃의 우선순위는 코드의 논리적인 구조를 분명히 하는 데 있다. 우선순위가 달성되었는지 평가하는데 사용되는 기준에는 정확성, 일관성, 가독성, 유지보수성이 있다,

o 보기 좋은 것은 다른 기준보다 중요하지 않다. 그렇지만 다른 기준이 충족되고 기본적인 코드가 훌륭하다면 레이아웃도 보기 좋을 것이다.

o 비주겅ㄹ 베이직은 블록을 지원하고 자바에서도 블록 기능을 제공하기 때문에 그러한 언어로 프로그램을 개발하면 블록 레이아웃을 사용할 수 있다. C++에서는 블록 시뮬레이션이나 begin-end로 블록 경계를 사용하면 좋을 것이다.

o 코드를 구조화하는 것은 그 자체로 중요하다. 규약의 구체적인 내용보다는 어떠한 규약을 일관성 있게 따르고 있다는 사실이 더 중요하다.

o 레이아웃의 많은 측면이 종교적인 사항이다. 주관적으로 선호하는 것과 객관적인 것을 떼어놓고 생각해 본다. 선호하는 스타일의 논의를 지지하는 데 도움이 되는 명사적인 기준을 사용한다.

 

좋은 레이아웃의 목표

a. 코드의 논리 구조를 정확하게 표현한다.

- 형식화의 기본 정리, 좋은 레이아웃의 주된 목적은 코드의 논리적인 구조를 보여주는 것.

b. 코드의 논리 구조를 일관되게 표현한다.

c. 가독성을 향상시킨다.

- 논리적이지만 코드를 읽기 어렵게 만드는 들여쓰기 스타일은 쓸모없다. 좋은 레이아웃 스키마는 코드를 읽기 쉽게 만든다.

d. 변경 사항에 대한 내성을 지닌다.

- 코드를 한 줄 변경한다고, 여러 줄을 변경할 필요가 없어야함.

 

레이아웃 기법

a. 그룹화

b. 빈 줄

- 관련 없는 명령문을 구분하는 것

c. 들여쓰기

d. 괄호

 

레이아웃 스타일

a. 순수 블록

비주얼 베이직의 순수 if 블록 예제

If pixelColor = Color_Red Then

statement1

statement2

...

End If

 

비주얼 베이직의 순수 while 블록 예제

While pixelColor = Color_Red

statement1

statement2

...

Wend

b. 순수 블록 흉내 내기

순수 If 블록을 흉내 내는 C++ 예제

if (pixelColor == Color_Red ) {

statement1;

statement2;

...

}

 

순수 while 블록을 흉내 내는 C++ 예제

while ( pixelColor == Color_Red ) {

statement1;

statement2;

...
}

c. 블록 경계를 나타내는 데 begin-end 쌍(중괄호) 사용

if 블록에서 begin/end를 블록 경께로 사용한 C++ 예제

if ( pixelColor == Color_Red )

{

statement1;

statement2;

...

}

 

while 블록에서 begin/end 블록 경계로 사용한 예제

while ( pixelColor == Color_Red )

{

statement1;

statement2;

...

}

한 가지 제약 사항은 C++와 자바의 swich/case 명령문에서는 이 형식을 적용할 수 없다는 점.

d. 줄 끝 레이아웃

- 코드가 줄의 중간이나 끝에 들여쓰기 되는 레이아웃 전략의 통칭이다.

while 블록에서 줄 끝 레이아웃을 사용한 비주얼 베이직 예제

While ( pixelColor == Color_Red )

statement1;

statement2;

...

wend

 

명료함을 위한 공백 사용

a. 논리적인 표현식을 읽기 쉽게 만들기 위해서 공백을 사용하라.

b. 배열 참조를 읽기 쉽도록 공백을 사용하라.

c. 루틴의 인자를 읽기 쉽도록 공백을 사용하라.